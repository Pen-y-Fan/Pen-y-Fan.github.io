






<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="author" content="Pen y Fan">
  
  
  <meta name="keywords" content="PHP, Learning, resource, HTML, CSS, Git, Github">
  
  
  
    <meta name="description" content="The focus in setting up PHP Projects in PhpStorm, in particular a Laravel project.
Composer with PHP with Easy Coding Standard (ECS), PHPUnit, and PhpStan. Also, some simplify projects to allow the...">
  
  <title>Standard Setup for PHP projects [ Pen y Fan ]</title>
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/random.css">
<link rel="stylesheet" href="/css/vegas.min.css">
<link rel="stylesheet" href="/css/highlight-railscasts.css">
<link rel="stylesheet" href="/css/jquery.fancybox.css">
<link rel="stylesheet" href="/css/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/jquery.fancybox-thumbs.css">
<link rel="stylesheet" href="/css/plyr.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
<div class="side-navigate hide-area">
  
    <div class="item prev">
      <a href="/2020/06/01/List-of-git-Learning-Resources/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        List of Git and GitHub Learning Resources
      </div>
    </div>
  
  
    <div class="item next">
      <a href="/2020/05/30/Creating-my-GitHub-io-website-using-Hexo/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        Creating my GitHub.io website using Hexo
      </div>
    </div>
  
</div>
<div id="outer-container" class="hide-area">
<div id="container">
  <div id="menu-outer" class="slide-down">
    <div id="menu-inner">
      <div id="brand">
        
        <a onClick="openUserCard()">
          <img id="avatar" src="https://avatars3.githubusercontent.com/u/40126936?s=400&amp;u=957f8c1cbfeeb61a853b9e28eb2968352a77cc79&amp;v=4"/>
          <div id="homelink">Pen y Fan</div>
        </a>
      </div>
      <div id="menu-list">
        <ul>
        
        
          
            <li>
          
            <a href="/index.html">Home</a>
            
          </li>
        
          
            <li>
          
            <a href="/archives">Posts</a>
            
          </li>
        
          
            <li>
          
            <a href="/tags">Tags</a>
            
          </li>
        
          
            <li>
          
            <a href="/categories">Categories</a>
            
          </li>
        
          
            <li>
          
            <a href="/about">About</a>
            
          </li>
        
          
            <li>
          
            <a href="https://github.com/pen-y-fan" target="_blank" rel="noopener">Github</a>
            
          </li>
        
        </ul>
      </div>
      <div id="show-menu">
        <button>Menu</button>
      </div>
    </div>
  </div>

  <div id="content-outer">
    <div id="content-inner">
      
      
  

  <article id="post">
    <h1>Standard Setup for PHP projects</h1>
    <p class="page-title-sub">
      <span id = "post-title-date">Created at 2020-05-31</span>
      
        <span id = "post-title-updated">Updated at 2020-08-02</span>
      
      
      <span id = "post-title-categories">Category
      
      
        
        
        <a href="/categories/Laravel/">Laravel</a>
      
      </span>
      
      
      <span id = "post-title-tags">
      Tag
      
      
        
        
        <a href="/tags/Laravel/">Laravel</a>
      
        
          /
        
        
        <a href="/tags/PhpStorm/">PhpStorm</a>
      
        
          /
        
        
        <a href="/tags/PhpStan/">PhpStan</a>
      
        
          /
        
        
        <a href="/tags/Easy-Coding-Standard-ECS/">Easy Coding Standard (ECS)</a>
      
        
          /
        
        
        <a href="/tags/PhpUnit/">PhpUnit</a>
      
        
          /
        
        
        <a href="/tags/Rector/">Rector</a>
      
        
          /
        
        
        <a href="/tags/PHP/">PHP</a>
      
      </span>
      
    </p>
    
    <p>The focus in setting up PHP Projects in PhpStorm, in particular a Laravel project.</p>
<p>Composer with PHP with Easy Coding Standard (ECS), PHPUnit, and PhpStan. Also, some <strong><em>simplify</em></strong> projects to allow the output to be displayed in PHPStorm.</p>
<p>Below are some other options, including psalm, Rector and PHP Mess Detector.</p>
<h2 id="Composer"><a href="#Composer" class="headerlink" title="Composer"></a>Composer</h2><p>Example snippet of a <strong>composer.json</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"require-dev"</span>: &#123;</span><br><span class="line">        <span class="attr">"phpstan/phpstan"</span>: <span class="string">"^0.12"</span>,</span><br><span class="line">        <span class="attr">"phpunit/phpunit"</span>: <span class="string">"^8.5.0"</span>,</span><br><span class="line">        <span class="attr">"squizlabs/php_codesniffer"</span>: <span class="string">"^3.5.3"</span>,</span><br><span class="line">        <span class="attr">"symplify/easy-coding-standard"</span>: <span class="string">"^7.1"</span>,</span><br><span class="line">        <span class="attr">"symplify/phpstan-extensions"</span>: <span class="string">"^7.1"</span>,</span><br><span class="line">        <span class="attr">"nunomaduro/larastan"</span>: <span class="string">"^0.5.0"</span>,</span><br><span class="line">        <span class="attr">"phpstan/phpstan-phpunit"</span>: <span class="string">"^0.12.2"</span>,</span><br><span class="line">        <span class="attr">"rector/rector"</span>: <span class="string">"0.7.26"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"checkcode"</span>: <span class="string">"phpcs src tests --standard=PSR12"</span>,</span><br><span class="line">        <span class="attr">"fixcode"</span>: <span class="string">"phpcbf src tests --standard=PSR12"</span>,</span><br><span class="line">        <span class="attr">"test"</span>: <span class="string">"phpunit"</span>,</span><br><span class="line">        <span class="attr">"tests"</span>: <span class="string">"phpunit"</span>,</span><br><span class="line">        <span class="attr">"check-cs"</span>: <span class="string">"ecs check src tests --ansi"</span>,</span><br><span class="line">        <span class="attr">"fix-cs"</span>: <span class="string">"ecs check src tests --fix --ansi"</span>,</span><br><span class="line">        <span class="attr">"phpstan"</span>: <span class="string">"phpstan analyse src tests --ansi --error-format symplify"</span>,</span><br><span class="line">        <span class="attr">"rector"</span>: <span class="string">"rector process -c rector.yaml --ansi"</span>,</span><br><span class="line">        <span class="attr">"rector:dry-run"</span>: <span class="string">"rector process -c rector.yaml --ansi --dry-run"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="editorconfig"><a href="#editorconfig" class="headerlink" title=".editorconfig"></a>.editorconfig</h2><p>Example <code>.editorconfig</code> file, normally found in the root of a project.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 4</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br><span class="line"></span><br><span class="line">[*.md]</span><br><span class="line">trim_trailing_whitespace &#x3D; false</span><br></pre></td></tr></table></figure>

<h2 id="Xdebug"><a href="#Xdebug" class="headerlink" title="Xdebug"></a>Xdebug</h2><p>Xdebug is used to debug PHP script, however due to how it analyses the script it makes PHP <strong>very</strong> slow, debugging should only enable it when debugging is required.</p>
<p>Add the following to the <strong>php.ini</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[xdebug]</span><br><span class="line">zend_extension&#x3D;xdebug</span><br><span class="line">xdebug.remote_enable&#x3D;1</span><br><span class="line">xdebug.remote_port&#x3D;9000</span><br></pre></td></tr></table></figure>

<p><strong>Note</strong>: PhpStorm will automatically enable xdebug, when the following is configure and debugging is enable, there is no need to leave xdebug enabled in <strong>php.ini</strong>. To temporarily disable xdebug comment out and the line. Using Laragon: Menu &gt; PHP &gt; Quick settings &gt; xdebug, click to toggle on and off. This will be the same as manually adding a <strong>;</strong> to the <strong>php.ini</strong> file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xdebug]</span><br><span class="line">;zend_extension&#x3D;xdebug</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="Configuring-Xdebug-in-PhpStorm"><a href="#Configuring-Xdebug-in-PhpStorm" class="headerlink" title="Configuring Xdebug in PhpStorm"></a>Configuring Xdebug in PhpStorm</h3><p><strong>TL;DR</strong> (parts copied from above PhpStorm Tutorials, full version below)</p>
<ol>
<li><p>In the <strong>Settings/Preferences</strong> dialog Ctrl+Alt+S, select <strong>Languages &amp; Frameworks | PHP</strong>.</p>
</li>
<li><p>Check the Xdebug installation associated with the selected PHP interpreter:</p>
<p> a. On the <strong>PHP</strong> page, choose the relevant PHP installation from the <strong>CLI Interpreter</strong> list and click the Browse button next to the field.</p>
<p> b. The <strong>CLI Interpreters</strong> dialog that opens shows the following:</p>
<p>   i. The version of the selected PHP installation. (e.g. <strong>D:\laragon\bin\php\php-7.4.4-Win32-vc15-x64\php.exe</strong>)</p>
<p>   ii. The name and version of the debugging engine associated with the selected PHP installation (Xdebug). (e.g. <strong>D:\laragon\bin\php\php-7.4.4-Win32-vc15-x64\ext\php_xdebug.dll</strong>)</p>
<p>   iii Once set click <strong>OK</strong>.</p>
</li>
<li><p>Define the Xdebug behaviour. Click Debug under the PHP node (<strong>Languages &amp; Frameworks | PHP | Debug</strong>.). On the Debug page that opens, specify the following settings in the Xdebug area:</p>
</li>
</ol>
<ul>
<li>Check the Pre-configuration has been complete (Xdebug ins installed, Install browser toolbar, Enable listening for PHP Debug connections and Start debug session)</li>
<li>Under the XDebug heading, Choose the Debug Port field (<strong>default is 9000</strong>). This must be exactly the same port number as specified in the php.ini file: <strong>xdebug.remote_port =9000</strong></li>
<li>To accept any incoming connections, select the <strong>Can accept external connections checkbox.</strong> (<strong>Default</strong>)</li>
<li>Select the <strong>Force break at the first line when no path mapping is specified</strong> checkbox to have the debugger stop as soon as it reaches and opens a file that is not mapped to any file in the project on the Servers page. (<strong>Default</strong>)</li>
<li>Click <strong>OK</strong></li>
</ul>
<h3 id="Using-debug-mode"><a href="#Using-debug-mode" class="headerlink" title="Using debug mode"></a>Using debug mode</h3><p>Set a breakpoint in the file to be inspected.</p>
<p>Open <strong>public/index.php</strong>, wait for the file to open, then in to top right there will be a floating bar with a list of browsers. Click Chrome (<strong>Alt+F2</strong> + Choose Chrome)</p>
<p>Chrome browser will launch and open the projects webpage. If the Debug icon isn’t already green, click the <strong>Debug</strong> icon for <strong>Xdebug helper</strong> extension. From the drop down list click <strong>Debug</strong> option, the icon will then display green.</p>
<p>Navigate the project’s website, to the page which uses the file that has the breakpoint set. As soon as the page is hit PhpStorm will open (it may be behind the browser).</p>
<p>In PhpStorm, accept the connection (this warning normally only displays the first hit and accepted once).</p>
<p>Debug information will display in the console, including the option to inspect variables and evaluate.</p>
<h3 id="More-details-How-to-Debug"><a href="#More-details-How-to-Debug" class="headerlink" title="More details: How to Debug"></a>More details: How to Debug</h3><p>For the full version of the above see <a href="https://www.jetbrains.com/help/phpstorm/configuring-xdebug.html" target="_blank" rel="noopener">Configuring Xdebug in PhpStorm</a> and <a href="https://www.jetbrains.com/help/phpstorm/2019.3/browser-debugging-extensions.html" target="_blank" rel="noopener">Browser Debugging Extensions</a>, click the link for Xdebug for Chrome and install <strong>Xdebug Helper</strong>.</p>
<p><a href="https://www.youtube.com/watch?v=GokeXqI93x8" target="_blank" rel="noopener">Youtube: Step Into Debugging with PhpStorm</a> by Gary Hockin, 58 min video on Debugging.</p>
<p><a href="https://www.agileana.com/blog/how-to-debug-from-a-remote-server-using-xdebug-and-phpstorm/" target="_blank" rel="noopener">How to Debug using Xdebug and PHPStorm from a Remote Server</a></p>
<h3 id="Strict-mode"><a href="#Strict-mode" class="headerlink" title="Strict mode"></a>Strict mode</h3><p>PHPStorm has an inspection to set strict mode.</p>
<ul>
<li><a href="https://blog.jetbrains.com/phpstorm/2016/11/project-wide-php-7-strict-types-in-phpstorm-2016-3/" target="_blank" rel="noopener">Full article Project Wide PHP 7 Strict Types in PhpStorm 2016.3</a>  by Gary Hockin</li>
</ul>
<h4 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL&DR;"></a>TL&DR;</h4><p><strong>Strict types declaration</strong> setting can be found under <strong>Type compatibility</strong> in the <strong>Inspections</strong> pane of the<br> <strong>Preferences</strong> window.</p>
<p><strong>Or</strong> double shift search for <strong>Missing Strict types declaration</strong> tick the inspection.</p>
<p>To run the inspection against the whole project (code base): <strong>CTRL + ALT + SHIFT + I</strong> or double shift search for<br> <strong>run inspection by name</strong>. Search for <strong>missing strict type declaration</strong>, <strong>Enter</strong> for whole project. The inspection<br>  will run, click on each file and click <strong>Add strict types declaration</strong></p>
<h2 id="Project-specific-Standards"><a href="#Project-specific-Standards" class="headerlink" title="Project specific Standards"></a>Project specific Standards</h2><h3 id="Laravel"><a href="#Laravel" class="headerlink" title="Laravel"></a>Laravel</h3><p>Add the Laravel code standard for PHP code sniffer, static analysis for PHPStan and PHPStorm helper.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">composer require --dev emielmolenaar/phpcs-laravel</span><br><span class="line">composer require --dev nunomaduro/larastan</span><br><span class="line">composer require --dev barryvdh/laravel-ide-helper</span><br></pre></td></tr></table></figure>

<p>Example script to run phpcs using the phpcs-laravel standard:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpcs --standard=phpcs-laravel</span><br></pre></td></tr></table></figure>

<h4 id="Automatic-phpDoc-generation-for-Laravel-Facades-ide-helper-setup"><a href="#Automatic-phpDoc-generation-for-Laravel-Facades-ide-helper-setup" class="headerlink" title="Automatic phpDoc generation for Laravel Facades (ide helper setup)"></a>Automatic phpDoc generation for Laravel Facades (ide helper setup)</h4><ul>
<li>phpDoc generation for Laravel Facades</li>
<li>phpDocs for models</li>
<li>PhpStorm Meta file</li>
</ul>
<p>After updating composer, add the service provider to the <code>providers</code> array in <code>config/app.php</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">Barryvdh\LaravelIdeHelper\IdeHelperServiceProvider::class,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>To generate helper files, run the following:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php artisan ide-helper:generate</span><br><span class="line">php artisan ide-helper:models --write</span><br><span class="line">php artisan ide-helper:meta</span><br></pre></td></tr></table></figure>

<p>It is a good idea to add the generated files to .gitignore</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> /.phpstorm.meta.php &gt;&gt; .gitignore</span><br><span class="line"><span class="built_in">echo</span> /_ide_helper.php &gt;&gt; .gitignore</span><br><span class="line"><span class="built_in">echo</span> /_ide_helper_models.php &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure>

<p>In <strong>PhpStorm</strong> enable the Laravel plugin</p>
<h2 id="Shortcuts-for-Helpers"><a href="#Shortcuts-for-Helpers" class="headerlink" title="Shortcuts for Helpers"></a>Shortcuts for Helpers</h2><p>Create batch files in the root of the project, which work in combination with the composer scripts.</p>
<h3 id="cc-bat"><a href="#cc-bat" class="headerlink" title="cc.bat"></a>cc.bat</h3><p>Runs the composer script for ECS to check the code.</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer check-cs</span><br></pre></td></tr></table></figure>

<h3 id="fc-bat"><a href="#fc-bat" class="headerlink" title="fc.bat"></a>fc.bat</h3><p>Runs the composer script for ECS to fix the code.</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer fix-cs</span><br></pre></td></tr></table></figure>

<h3 id="rdr-bat"><a href="#rdr-bat" class="headerlink" title="rdr.bat"></a>rdr.bat</h3><p>Runs the composer script for Rector for dry run. Adjust <strong>rector.yml</strong> as required.</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer rector:dry-run</span><br></pre></td></tr></table></figure>

<h3 id="re-bat"><a href="#re-bat" class="headerlink" title="re.bat"></a>re.bat</h3><p>Runs the composer script for Rector to fix the code (run dry run first!). Also adjust <strong>rector.yml</strong> as required. </p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer rector</span><br></pre></td></tr></table></figure>

<h3 id="ps-bat"><a href="#ps-bat" class="headerlink" title="ps.bat"></a>ps.bat</h3><p>Runs the composer script for PhpStan to check the code. </p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer phpstan</span><br></pre></td></tr></table></figure>

<h3 id="pu-bat"><a href="#pu-bat" class="headerlink" title="pu.bat"></a>pu.bat</h3><p>Runs the composer script for PhpUnit. </p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer test</span><br></pre></td></tr></table></figure>

<h2 id="PHPStan-Setup"><a href="#PHPStan-Setup" class="headerlink" title="PHPStan Setup"></a>PHPStan Setup</h2><p>PHP Static Analysis Tool - discover bugs in your code without running it!</p>
<ul>
<li>Github: <a href="https://github.com/phpstan/phpstan" target="_blank" rel="noopener">phpstan/phpstan</a></li>
</ul>
<h3 id="Installation-of-PHPStan-using-Composer"><a href="#Installation-of-PHPStan-using-Composer" class="headerlink" title="Installation of PHPStan using Composer"></a>Installation of PHPStan using Composer</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require phpstan/phpstan --dev</span><br></pre></td></tr></table></figure>

<h3 id="Example-phpstan-neon-file"><a href="#Example-phpstan-neon-file" class="headerlink" title="Example phpstan.neon file"></a>Example <code>phpstan.neon</code> file</h3><p>PHPStan needs a <code>phpstan.neon</code> file an example can be found <a href="https://raw.githubusercontent.com/KnpLabs/DoctrineBehaviors/master/phpstan.neon" target="_blank" rel="noopener">here</a></p>
<p>Example <strong>phpstan.neon</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">includes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vendor/nunomaduro/larastan/extension.neon</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vendor/symplify/phpstan-extensions/config/config.neon</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">vendor/phpstan/phpstan-phpunit/extension.neon</span></span><br><span class="line"></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">        <span class="comment"># Laravel</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">app</span> </span><br><span class="line">        <span class="comment"># Source folder, add more folder as required</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">src</span> </span><br><span class="line">        <span class="bullet">-</span> <span class="string">tests</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># The level 8 is the highest level</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">checkGenericClassInNonGenericObjectType:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Larstan recommendation:</span></span><br><span class="line">    <span class="attr">checkMissingIterableValueType:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># to allow installing with various PhpStan versions without reporting old errors here</span></span><br><span class="line">    <span class="attr">reportUnmatchedIgnoredErrors:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">ignoreErrors:</span></span><br><span class="line">        <span class="comment"># LaraStan recommendation:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'#Unsafe usage of new static#'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Ignore errors in Laravel's Middleware classes</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">            <span class="attr">message:</span> <span class="string">'#Method App\\Http\\Middleware\\RedirectIfAuthenticated\:\:handle\(\) has no return typehint specified#'</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">app\Http\Middleware\RedirectIfAuthenticated.php</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">            <span class="attr">message:</span> <span class="string">'#Method App\\Http\\Middleware\\Authenticate\:\:redirectTo\(\) should return string\|null but return statement is missing#'</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">app\Http\Middleware\Authenticate.php</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># buggy</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># mixed</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># cache buggy</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># tests</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># iterable</span></span><br></pre></td></tr></table></figure>

<p>The above includes placeholders (buggy/mixed etc) for ignored files or rules. See the documentation for how to add.</p>
<p>Another <strong>PhpStan.neon</strong> example from LaraStan:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">includes:</span><br><span class="line">    - .&#x2F;vendor&#x2F;nunomaduro&#x2F;larastan&#x2F;extension.neon</span><br><span class="line"></span><br><span class="line">parameters:</span><br><span class="line"></span><br><span class="line">    paths:</span><br><span class="line">        - app</span><br><span class="line"></span><br><span class="line">    # The level 8 is the highest level</span><br><span class="line">    level: 5</span><br><span class="line"></span><br><span class="line">    ignoreErrors:</span><br><span class="line">        - &#39;#Unsafe usage of new static#&#39;</span><br><span class="line"></span><br><span class="line">    excludes_analyse:</span><br><span class="line">        - .&#x2F;*&#x2F;*&#x2F;FileToBeExcluded.php</span><br><span class="line"></span><br><span class="line">    checkMissingIterableValueType: false</span><br></pre></td></tr></table></figure>

<h3 id="Alternative-PhpStan-script-with-level-set-to-max"><a href="#Alternative-PhpStan-script-with-level-set-to-max" class="headerlink" title="Alternative PhpStan script with level set to max"></a>Alternative PhpStan script with level set to max</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpstan analyse src tests --level max --error-format checkstyle</span><br></pre></td></tr></table></figure>

<h2 id="PHPStorm-Setup-of-PHPStan"><a href="#PHPStorm-Setup-of-PHPStan" class="headerlink" title="PHPStorm Setup of PHPStan"></a>PHPStorm Setup of PHPStan</h2><h3 id="PHPStan-can-be-used-as-an-External-Tool"><a href="#PHPStan-can-be-used-as-an-External-Tool" class="headerlink" title="PHPStan can be used as an External Tool"></a>PHPStan can be used as an External Tool</h3><p>Go to <strong>Preferences &gt; Tools &gt; External Tools</strong> and click <strong>+</strong> to add a new tool.</p>
<ul>
<li>Name: <strong>PHPStan</strong> (Can be any value)</li>
<li>Description: <strong>PHPStan</strong> (Can be any value)</li>
<li>Program: <strong>$ProjectFileDir$/vendor/bin/phpstan.bat</strong> (Path to <code>phpstan.bat</code> executable; On Windows path separators must be a <code>\</code>)</li>
<li>Parameters: <strong>check $FilePathRelativeToProjectRoot$</strong> (append <strong>–fix</strong> to auto-fix)</li>
<li>Working directory: <strong>$ProjectFileDir$</strong></li>
</ul>
<p>Press <strong>Cmd/Ctrl + Shift + A</strong> (Find Action), search for <strong>phpstan</strong>, and then hit Enter. It will run <strong>phpstan</strong> for all files in the project.</p>
<p>You can also create a keyboard shortcut in <a href="https://www.jetbrains.com/help/webstorm/configuring-keyboard-and-mouse-shortcuts.html" target="_blank" rel="noopener">Preferences &gt; Keymap</a> to run <strong>phpstan</strong>.</p>
<h3 id="PHPStan-can-be-used-as-a-watcher"><a href="#PHPStan-can-be-used-as-a-watcher" class="headerlink" title="PHPStan can be used as a watcher"></a>PHPStan can be used as a watcher</h3><p>I have also tried setting up <strong>PHPStan</strong> as a <a href="https://www.jetbrains.com/help/phpstorm/using-file-watchers.html" target="_blank" rel="noopener">watcher</a> as follows:</p>
<ul>
<li>File type: <strong>PHP</strong></li>
<li>Scope: <strong>All Places</strong></li>
<li>Program: <strong>$ProjectFileDir$/vendor/bin/phpstan</strong></li>
<li>Arguments: <strong>analyse</strong></li>
<li>Working directory: <strong>$ProjectFileDir$</strong></li>
<li>Show console: <strong>On error</strong></li>
</ul>
<p>It runs <strong>PHPStan</strong> on every save, but only opens the console when PHPStan detects an error. Not as good as integrated analysis, but a good compromise, until Jetbrains can integrate it.</p>
<h2 id="Easy-Coding-Standard-ECS"><a href="#Easy-Coding-Standard-ECS" class="headerlink" title="Easy Coding Standard (ECS)"></a>Easy Coding Standard (ECS)</h2><p>The easiest way to start using PHP CS Fixer and PHP_CodeSniffer with 0-knowledge</p>
<ul>
<li><a href="https://github.com/Symplify/EasyCodingStandard" target="_blank" rel="noopener">symplify/easy-coding-standard</a></li>
</ul>
<h3 id="Installation-of-ECS-using-Composer"><a href="#Installation-of-ECS-using-Composer" class="headerlink" title="Installation of ECS using Composer"></a>Installation of ECS using Composer</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require symplify/easy-coding-standard --dev</span><br></pre></td></tr></table></figure>

<h3 id="Example-ecs-yaml-file"><a href="#Example-ecs-yaml-file" class="headerlink" title="Example ecs.yaml file"></a>Example <code>ecs.yaml</code> file</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">sets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'psr12'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php70'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php71'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'symplify'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'common'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'clean-code'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">line_ending:</span> <span class="string">"\n"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 4 spaces</span></span><br><span class="line">    <span class="attr">indentation:</span> <span class="string">"    "</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">skip:</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Architecture\DuplicatedClassShortNameSniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="comment"># Allow snake_case for tests</span></span><br><span class="line">        <span class="string">PHP_CodeSniffer\Standards\Generic\Sniffs\NamingConventions\CamelCapsFunctionNameSniff:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">tests/**</span></span><br><span class="line">        <span class="comment"># Ignore what is not owned - Laravel's TestCase class does not start with 'Abstract'</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Naming\AbstractClassNameSniff:</span></span><br><span class="line">           <span class="bullet">-</span> <span class="string">tests/TestCase.php</span></span><br><span class="line">        <span class="comment"># Ignore what is not owned - Laravel's traits do not end with 'Trait'</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Naming\TraitNameSniff:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">tests/**</span></span><br><span class="line">        <span class="comment"># Ignore what is not owned - CommentedOutCodeSniff</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Debug\CommentedOutCodeSniff.Found:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">app/Console/Kernel.php</span></span><br><span class="line">        <span class="comment"># Ignore what is not owned - @return \Illuminate\Contracts\Validation\Validator</span></span><br><span class="line">        <span class="string">SlevomatCodingStandard\Sniffs\Namespaces\ReferenceUsedNamesOnlySniff.ReferenceViaFullyQualifiedName:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">app/Http/Controllers/Auth/RegisterController.php</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="string">Symplify\CodingStandard\Sniffs\CleanCode\CognitiveComplexitySniff:</span></span><br><span class="line">        <span class="attr">max_cognitive_complexity:</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p>Working example from <a href="https://github.com/KnpLabs/DoctrineBehaviors" target="_blank" rel="noopener">KnpLabs/DoctrineBehaviors</a></p>
<p>Example <strong>ecs.yaml</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">sets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'psr12'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php70'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php71'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'symplify'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'common'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'clean-code'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">skip:</span></span><br><span class="line">        <span class="string">PhpCsFixer\Fixer\Operator\UnaryOperatorSpacesFixer:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\ControlStructure\SprintfOverContactSniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\CleanCode\ForbiddenStaticFunctionSniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\CleanCode\CognitiveComplexitySniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\CleanCode\ForbiddenReferenceSniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Architecture\ExplicitExceptionSniff:</span> <span class="literal">null</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Sniffs\Architecture\DuplicatedClassShortNameSniff:</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># mixed types</span></span><br><span class="line">        <span class="string">SlevomatCodingStandard\Sniffs\TypeHints\PropertyTypeHintSniff:</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># buggy</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Fixer\ControlStructure\PregDelimiterFixer:</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">        <span class="string">PhpCsFixer\Fixer\PhpUnit\PhpUnitStrictFixer:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"tests/ORM/TimestampableTest.php"</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># weird naming</span></span><br><span class="line">        <span class="string">Symplify\CodingStandard\Fixer\Naming\PropertyNameMatchingTypeFixer:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"src/Model/Geocodable/GeocodablePropertiesTrait.php"</span></span><br><span class="line">            <span class="comment"># &amp; bug</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"*Repository.php"</span></span><br><span class="line"></span><br><span class="line">        <span class="string">SlevomatCodingStandard\Sniffs\Classes\UnusedPrivateElementsSniff:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"tests/Fixtures/Entity/SluggableWithoutRegenerateEntity.php"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="string">Symplify\CodingStandard\Sniffs\CleanCode\CognitiveComplexitySniff:</span></span><br><span class="line">        <span class="attr">max_cognitive_complexity:</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line">    <span class="string">PhpCsFixer\Fixer\ClassNotation\FinalClassFixer:</span> <span class="string">~</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># see single LICENSE.txt file in the root directory</span></span><br><span class="line">    <span class="string">PhpCsFixer\Fixer\Comment\HeaderCommentFixer:</span></span><br><span class="line">        <span class="attr">header:</span> <span class="string">''</span></span><br><span class="line"></span><br><span class="line">    <span class="string">PhpCsFixer\Fixer\Phpdoc\GeneralPhpdocAnnotationRemoveFixer:</span></span><br><span class="line">        <span class="attr">annotations:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">'author'</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">'package'</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">'license'</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">'link'</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">'abstract'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># every property should have @var annotation</span></span><br><span class="line">    <span class="comment"># SlevomatCodingStandard\Sniffs\TypeHints\PropertyTypeHintSniff: ~</span></span><br></pre></td></tr></table></figure>

<p>Example from <strong>phpdocumentor\reflection-common\easy-coding-standard.neon</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">includes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">temp/ecs/config/clean-code.neon</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">temp/ecs/config/psr2.neon</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">temp/ecs/config/common.neon</span></span><br><span class="line"></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">exclude_checkers:</span></span><br><span class="line">        <span class="comment"># from temp/ecs/config/common.neon</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">PhpCsFixer\Fixer\ClassNotation\OrderedClassElementsFixer</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">PhpCsFixer\Fixer\PhpUnit\PhpUnitStrictFixer</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">PhpCsFixer\Fixer\ControlStructure\YodaStyleFixer</span></span><br><span class="line">        <span class="comment"># from temp/ecs/config/spaces.neon</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">PhpCsFixer\Fixer\Operator\NotOperatorWithSuccessorSpaceFixer</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">skip:</span></span><br><span class="line">        <span class="string">PHP_CodeSniffer\Standards\Generic\Sniffs\NamingConventions\CamelCapsFunctionNameSniff:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">tests/**</span></span><br></pre></td></tr></table></figure>

<h3 id="PHPStorm-setup-for-Easy-Coding-Standard-ECS"><a href="#PHPStorm-setup-for-Easy-Coding-Standard-ECS" class="headerlink" title="PHPStorm setup for Easy Coding Standard (ECS)"></a>PHPStorm setup for Easy Coding Standard (ECS)</h3><p>EasyCodingStandard can be used as an External Tool</p>
<p>Go to <code>Preferences</code> &gt; <code>Tools</code> &gt; <code>External Tools</code> and click <code>+</code> to add a new tool.</p>
<ul>
<li>Name: <code>ecs</code> (Can be any value)</li>
<li>Description: <code>easyCodingStandard</code> (Can be any value)</li>
<li>Program: <code>$ProjectFileDir$/vendor/bin/ecs</code> (Path to <code>ecs</code> executable; On Windows path separators must be a <code>\</code>)</li>
<li>Parameters: <code>check $FilePathRelativeToProjectRoot$</code> (append <code>--fix</code> to auto-fix)</li>
<li>Working directory: <code>$ProjectFileDir$</code></li>
</ul>
<p>Press <code>Cmd/Ctrl</code> + <code>Shift</code> + <code>A</code> (Find Action), search for <code>ecs</code>, and then hit Enter. It will run <code>ecs</code> for the current file.</p>
<p>To run <code>ecs</code> on a directory, right click on a folder in the project browser go to external tools and select <code>ecs</code>.</p>
<p>You can also create a keyboard shortcut in <a href="https://www.jetbrains.com/help/webstorm/configuring-keyboard-and-mouse-shortcuts.html" target="_blank" rel="noopener">Preferences &gt; Keymap</a> to run <code>ecs</code>.</p>
<h2 id="PHP-CodeSniffer"><a href="#PHP-CodeSniffer" class="headerlink" title="PHP CodeSniffer"></a>PHP CodeSniffer</h2><p>PHP_CodeSniffer tokenizes PHP, JavaScript and CSS files and detects violations of a defined set of coding standards.</p>
<ul>
<li><a href="https://github.com/squizlabs/PHP_CodeSniffer" target="_blank" rel="noopener">squizlabs/php_codesniffer</a></li>
</ul>
<h3 id="Installation-of-PHP-CodeSniffer-using-Composer"><a href="#Installation-of-PHP-CodeSniffer-using-Composer" class="headerlink" title="Installation of PHP CodeSniffer using Composer"></a>Installation of PHP CodeSniffer using Composer</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require squizlabs/php_codesniffer --dev</span><br></pre></td></tr></table></figure>

<h3 id="Example-phpcs-xml-dist"><a href="#Example-phpcs-xml-dist" class="headerlink" title="Example phpcs.xml.dist"></a>Example <code>phpcs.xml.dist</code></h3><p>Example from <strong>phpdocumentor\type-resolver</strong></p>
<p>Example <strong>phpcs.xml.dist</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ruleset</span> <span class="attr">name</span>=<span class="string">"phpDocumentor"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">description</span>&gt;</span>The coding standard for phpDocumentor.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">file</span>&gt;</span>src<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">file</span>&gt;</span>tests/unit<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclude-pattern</span>&gt;</span>*/tests/unit/Types/ContextFactoryTest.php<span class="tag">&lt;/<span class="name">exclude-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">value</span>=<span class="string">"p"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"PSR2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include-pattern</span>&gt;</span>*\.php<span class="tag">&lt;/<span class="name">include-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"Doctrine"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"SlevomatCodingStandard.TypeHints.UselessConstantTypeHint.UselessDocComment"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"Squiz.Classes.ValidClassName.NotCamelCaps"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude-pattern</span>&gt;</span>*/src/*_.php<span class="tag">&lt;/<span class="name">exclude-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"SlevomatCodingStandard.Classes.SuperfluousAbstractClassNaming.SuperfluousPrefix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude-pattern</span>&gt;</span>*/src/*/Abstract*.php<span class="tag">&lt;/<span class="name">exclude-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"Generic.Formatting.SpaceAfterNot"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"spacing"</span> <span class="attr">value</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruleset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="PHPUnit"><a href="#PHPUnit" class="headerlink" title="PHPUnit"></a>PHPUnit</h2><p>The PHP Unit Testing framework.</p>
<ul>
<li><a href="https://phpunit.de/getting-started/phpunit-8.html" target="_blank" rel="noopener">phpunit/phpunit</a></li>
</ul>
<h3 id="Installation-of-PHPUnit-using-Composer"><a href="#Installation-of-PHPUnit-using-Composer" class="headerlink" title="Installation of PHPUnit using Composer"></a>Installation of PHPUnit using Composer</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require phpunit/phpunit --dev</span><br></pre></td></tr></table></figure>

<h3 id="Example-phpunit-xml-or-phpunit-xml-dist"><a href="#Example-phpunit-xml-or-phpunit-xml-dist" class="headerlink" title="Example phpunit.xml or phpunit.xml.dist"></a>Example <code>phpunit.xml</code> or <code>phpunit.xml.dist</code></h3><p>Example <strong>phpunit.xml.dist</strong> from <a href="https://laravelpackageboilerplate.com" target="_blank" rel="noopener">Laravel Package Boilerplate</a>, very useful for<br> coverage reports!</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phpunit</span> <span class="attr">bootstrap</span>=<span class="string">"vendor/autoload.php"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">backupGlobals</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">backupStaticAttributes</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">colors</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">verbose</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertErrorsToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertNoticesToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertWarningsToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">processIsolation</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">stopOnFailure</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testsuites</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">testsuite</span> <span class="attr">name</span>=<span class="string">"Test Suite"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>tests<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">testsuite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testsuites</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">whitelist</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span> <span class="attr">suffix</span>=<span class="string">".php"</span>&gt;</span>src/<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">whitelist</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logging</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log</span> <span class="attr">type</span>=<span class="string">"tap"</span> <span class="attr">target</span>=<span class="string">"build/report.tap"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log</span> <span class="attr">type</span>=<span class="string">"junit"</span> <span class="attr">target</span>=<span class="string">"build/report.junit.xml"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log</span> <span class="attr">type</span>=<span class="string">"coverage-html"</span> <span class="attr">target</span>=<span class="string">"build/coverage"</span> <span class="attr">lowUpperBound</span>=<span class="string">"35"</span> <span class="attr">highLowerBound</span>=<span class="string">"70"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log</span> <span class="attr">type</span>=<span class="string">"coverage-text"</span> <span class="attr">target</span>=<span class="string">"build/coverage.txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log</span> <span class="attr">type</span>=<span class="string">"coverage-clover"</span> <span class="attr">target</span>=<span class="string">"build/logs/clover.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">phpunit</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Add <code>/build/</code> to <strong>.gitignore</strong></li>
</ul>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo /build/ &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure>

<p>Example <strong>phpunit.xml</strong> from <strong>livewire\livewire</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phpunit</span> <span class="attr">backupGlobals</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">backupStaticAttributes</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">bootstrap</span>=<span class="string">"vendor/autoload.php"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">colors</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertErrorsToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertNoticesToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">convertWarningsToExceptions</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">processIsolation</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">stopOnFailure</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testsuites</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">testsuite</span> <span class="attr">name</span>=<span class="string">"Unit"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span> <span class="attr">suffix</span>=<span class="string">"Test.php"</span>&gt;</span>./tests<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">testsuite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testsuites</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">whitelist</span> <span class="attr">processUncoveredFilesFromWhitelist</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span> <span class="attr">suffix</span>=<span class="string">".php"</span>&gt;</span>./src<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">whitelist</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">phpunit</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>phpunit.xml</strong> from KnpLabs/DoctrineBehaviors (minimalist)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phpunit</span></span></span><br><span class="line"><span class="tag">     <span class="attr">colors</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">bootstrap</span>=<span class="string">"tests/bootstrap.php"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">testsuites</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">testsuite</span> <span class="attr">name</span>=<span class="string">"Knp Doctrine2 Behaviors"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>tests<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">testsuite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testsuites</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">phpunit</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="PHP-Mess-Detector"><a href="#PHP-Mess-Detector" class="headerlink" title="PHP Mess Detector"></a>PHP Mess Detector</h2><ul>
<li><a href="https://phpmd.org/" target="_blank" rel="noopener">phpmd.org</a></li>
</ul>
<h3 id="Installation-of-PHP-Mess-Detector"><a href="#Installation-of-PHP-Mess-Detector" class="headerlink" title="Installation of PHP Mess Detector"></a>Installation of PHP Mess Detector</h3><p>Follow the link from <a href="https://phpmd.org/" target="_blank" rel="noopener">phpmd.org</a> to download the latest version and save the <code>phpmd.phar</code> file in an accessible location.</p>
<h3 id="Example-phpmd-xml"><a href="#Example-phpmd-xml" class="headerlink" title="Example phpmd.xml"></a>Example <code>phpmd.xml</code></h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ruleset</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"ProxyManager rules"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://pmd.sf.net/ruleset/1.0.0"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://pmd.sf.net/ruleset/1.0.0 http://pmd.sf.net/ruleset_xml_schema.xsd"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"http://pmd.sf.net/ruleset_xml_schema.xsd"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/codesize.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/unusedcode.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/design.xml"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- eval is needed to generate runtime classes --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"EvalExpression"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/naming.xml"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"LongVariable"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/naming.xml/LongVariable"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minimum"</span>&gt;</span>40<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruleset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Mess detection rules from <strong>nesbot\Carbon</strong></p>
<p>Example <code>phpmd.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ruleset</span> <span class="attr">name</span>=<span class="string">"Mess detection rules for Carbon"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns</span>=<span class="string">"http://pmd.sf.net/ruleset/1.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://pmd.sf.net/ruleset/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                     http://pmd.sf.net/ruleset_xml_schema.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">                     http://pmd.sf.net/ruleset_xml_schema.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span></span><br><span class="line">        Mess detection rules for Carbon</span><br><span class="line">    <span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/codesize.xml"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"CyclomaticComplexity"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"NPathComplexity"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"ExcessiveMethodLength"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"ExcessiveClassLength"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"ExcessivePublicCount"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"TooManyMethods"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"TooManyPublicMethods"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"ExcessiveClassComplexity"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/cleancode.xml"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"BooleanArgumentFlag"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"StaticAccess"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"IfStatementAssignment"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/controversial.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/design.xml"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"EvalExpression"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"CouplingBetweenObjects"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span> <span class="attr">name</span>=<span class="string">"CountInLoopExpression"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/design.xml/CouplingBetweenObjects"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maximum"</span> <span class="attr">value</span>=<span class="string">"20"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/naming.xml/ShortVariable"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"exceptions"</span> <span class="attr">value</span>=<span class="string">"ci,id,to,tz"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rule</span> <span class="attr">ref</span>=<span class="string">"rulesets/unusedcode.xml"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruleset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="PHPStorm-setup-for-PHP-Mess-Detector"><a href="#PHPStorm-setup-for-PHP-Mess-Detector" class="headerlink" title="PHPStorm setup for PHP Mess Detector"></a>PHPStorm setup for PHP Mess Detector</h2><ul>
<li><a href="https://www.jetbrains.com/help/phpstorm/using-php-mess-detector.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/phpstorm/using-php-mess-detector.html</a></li>
</ul>
<h3 id="Configure-a-local-PHP-Mess-Detector-script"><a href="#Configure-a-local-PHP-Mess-Detector-script" class="headerlink" title="Configure a local PHP Mess Detector script"></a>Configure a local PHP Mess Detector script</h3><p>1) Download and install the PHP Mess Detector scripts.</p>
<p>To check the PHP Mess Detector installation, switch to the installation directory and run the following command:</p>
<p><code>phpmd --version</code></p>
<p>If the tool is available, you will get a message in the following format:</p>
<p><code>PHPMD version &lt;version&gt;</code></p>
<p>To have code checked against your own custom coding standard, create it. Store the rules and the ruleset.xml file that points to them in the rulesets root directory.</p>
<p>2) Register the local PHP Mess Detector script in PhpStorm:</p>
<p>a. In the <strong>Settings/Preferences</strong> dialog Ctrl+Alt+S, navigate to <strong>Languages &amp; Frameworks | PHP | Quality Tools</strong>.</p>
<p>b. On the Quality Tools page that opens, expand the <strong>Mess Detector</strong> area and click the Browse button next to the <strong>Configuration</strong> list.</p>
<p>c. In the <strong>PHP Mess Detector</strong> dialog that opens, specify the location of the <code>phpmd.bat</code> or <code>phpmd</code> PHP Mess Detector executable in the <strong>PHP Mess Detector path</strong> field. Type the path manually or click the Browse button and select the relevant folder in the dialog that opens.</p>
<p>To check that the specified path to <code>phpmd.bat</code> or <code>phpmd</code> ensures interaction between PhpStorm and PHP Mess Detector, that is, the tool can be launched from PhpStorm and PhpStorm will receive problem reports from it, click the <strong>Validate</strong> button. This validation is equal to running the <code>phpmd --version</code> command. If validation passes successfully, PhpStorm displays the information on the detected PHP Mess Detector version.</p>
<h3 id="Configure-a-PHP-Mess-Detector-script-associated-with-a-PHP-interpreter"><a href="#Configure-a-PHP-Mess-Detector-script-associated-with-a-PHP-interpreter" class="headerlink" title="Configure a PHP Mess Detector script associated with a PHP interpreter"></a>Configure a PHP Mess Detector script associated with a PHP interpreter</h3><ol>
<li><p>In the <strong>Settings/Preferences</strong> dialog Ctrl+Alt+S, navigate to <strong>Languages &amp; Frameworks | PHP | Quality Tools</strong>.</p>
</li>
<li><p>On the Quality Tools page that opens, expand the <strong>Mess Detector</strong> area and click the … (Browse button) next to the <strong>Configuration</strong> list. <strong>The PHP Mess Detector</strong> dialog opens showing the list of all the configured PHP Mess Detector scripts in the left-hand pane, one of them is of the type <strong><em>Local</em></strong> and others are named after the PHP interpreters with which the scripts are associated. Click the Add button on the toolbar.</p>
</li>
<li><p>In the <strong>PHP Mess Detector by Remote Interpreter</strong> dialog that opens, choose the remote PHP interpreter to use the associated script from. If the list does not contain a relevant interpreter, click the Browse button and configure a remote interpreter in the <strong>CLI Interpreters</strong> dialog as described in Configuring Remote PHP Interpreters.</p>
</li>
</ol>
<p>When you click <strong>OK</strong>, PhpStorm brings you back to the <strong>PHP Mess Detector</strong> dialog where the new <strong><em>PHP Mess Detector</em></strong> configuration is added to the list and the right-hand pane shows the chosen remote PHP interpreter, the path to the PHP Mess Detector associated with it, and the advanced PHP Mess Detector options.</p>
<h2 id="psalm"><a href="#psalm" class="headerlink" title="psalm"></a>psalm</h2><ul>
<li><a href="https://github.com/vimeo/psalm" target="_blank" rel="noopener">vimeo/psalm</a></li>
</ul>
<p>A static analysis tool for finding errors in PHP applications <a href="https://psalm.dev" target="_blank" rel="noopener">https://psalm.dev</a></p>
<h3 id="Install-psalm"><a href="#Install-psalm" class="headerlink" title="Install psalm"></a>Install psalm</h3><p>Install via Composer:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require --dev vimeo/psalm</span><br></pre></td></tr></table></figure>

<p>Add a config:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/psalm --init</span><br></pre></td></tr></table></figure>

<p>Then run Psalm:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/psalm</span><br></pre></td></tr></table></figure>

<h3 id="Example-psalm-xml"><a href="#Example-psalm-xml" class="headerlink" title="Example psalm.xml"></a>Example <code>psalm.xml</code></h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">psalm</span></span></span><br><span class="line"><span class="tag">    <span class="attr">autoloader</span>=<span class="string">"psalm-autoload.php"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">stopOnFirstError</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">useDocblockTypes</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">projectFiles</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span> <span class="attr">name</span>=<span class="string">"app"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span> <span class="attr">name</span>=<span class="string">"tests"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">projectFiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">issueHandlers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RedundantConditionGivenDocblockType</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">UnresolvableInclude</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">DuplicateClass</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">InvalidOperand</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">UndefinedConstant</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">MissingReturnType</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">InvalidReturnType</span> <span class="attr">errorLevel</span>=<span class="string">"info"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">issueHandlers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">psalm</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Rector"><a href="#Rector" class="headerlink" title="Rector"></a>Rector</h2><p>Instant Upgrades and Instant Refactoring of any PHP 5.3+ code <a href="https://getrector.org" target="_blank" rel="noopener">https://getrector.org</a></p>
<ul>
<li><a href="https://github.com/rectorphp/rector" target="_blank" rel="noopener">rectorphp/rector</a></li>
</ul>
<h3 id="Installation-of-Rector-using-Composer"><a href="#Installation-of-Rector-using-Composer" class="headerlink" title="Installation of Rector using Composer"></a>Installation of Rector using Composer</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require rector/rector --dev</span><br></pre></td></tr></table></figure>

<h3 id="Example-rector-yaml"><a href="#Example-rector-yaml" class="headerlink" title="Example rector.yaml"></a>Example <code>rector.yaml</code></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">sets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'code-quality'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php71'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php72'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php73'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">php_version_features:</span> <span class="string">'7.2'</span> <span class="comment"># your version is 7.3</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'src'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'tests'</span></span><br></pre></td></tr></table></figure>

<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;forked&gt; https://github.com/rectorphp/demo.git</span><br><span class="line"><span class="built_in">cd</span> demo</span><br><span class="line">composer install</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">php_version_features:</span> <span class="string">'7.2'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># demo</span></span><br><span class="line"><span class="comment"># 1. php</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src/PhpCodeUpgrade/CountOnNullableAndArrayAssign.php --set php71 --dry-run</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src/PhpCodeUpgrade/CreateFunction.php --set php72 --dry-run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. code quality</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src/CodeQuality --set code-quality --dry-run</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src/PhpCodeUpgrade --set type-declaration --dry-run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. twig</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src --set twig-underscore-to-namespace --dry-run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. phpunit</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src tests --set phpunit70 --dry-run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># typed properties - @todo change param to the PHP 7.4</span></span><br><span class="line"><span class="comment"># not only improve, but also fix BC breaks</span></span><br><span class="line"><span class="comment"># vendor/bin/rector process src --set php74 --dry-run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list all available sets:</span></span><br><span class="line"><span class="comment"># vendor\bin\rector sets</span></span><br></pre></td></tr></table></figure>

<h3 id="Example-rector-ci-yaml"><a href="#Example-rector-ci-yaml" class="headerlink" title="Example rector-ci.yaml"></a>Example rector-ci.yaml</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">"src"</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">"tests"</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">sets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'dead-code'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'code-quality'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'coding-style'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'nette-utils-code-quality'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">exclude_rectors:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\DeadCode\Rector\Class_\RemoveUnusedDoctrineEntityMethodAndPropertyRector'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\SOLID\Rector\ClassMethod\UseInterfaceOverImplementationInConstructorRector'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">exclude_paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'src/Model/Translatable/TranslatableMethodsTrait.php'</span></span><br></pre></td></tr></table></figure>

<p>Example <strong>rector-ci.yaml</strong> from symplify / symplify</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="string">Rector\SOLID\Rector\Property\ChangeReadOnlyPropertyWithDefaultValueToConstantRector:</span> <span class="literal">null</span></span><br><span class="line">    <span class="string">Rector\SOLID\Rector\ClassMethod\ChangeReadOnlyVariableWithDefaultValueToConstantRector:</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="attr">parameters:</span></span><br><span class="line">    <span class="attr">auto_import_names:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">autoload_paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'tests/bootstrap.php'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">sets:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'code-quality'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'dead-code'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'coding-style'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php-70'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php-71'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'php-72'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">"packages"</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">exclude_paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'/vendor/'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'/init/'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'/Source/'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'/ChangedFilesDetectorSource/'</span></span><br><span class="line">        <span class="comment"># parameter Symfony autowire hack</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'packages/changelog-linker/src/DependencyInjection/Dummy/ResolveAutowiringExceptionHelper.php'</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'packages/monorepo-builder/packages/init/templates/*'</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">exclude_rectors:</span></span><br><span class="line">        <span class="comment"># too free</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\SOLID\Rector\ClassMethod\UseInterfaceOverImplementationInConstructorRector'</span></span><br><span class="line">        <span class="comment"># needs to skip dev classes</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\Php55\Rector\String_\StringClassNameToClassConstantRector'</span></span><br><span class="line">        <span class="comment"># this should skip preg_match etc. patterns</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\CodingStyle\Rector\String_\SymplifyQuoteEscapeRector'</span></span><br><span class="line">        <span class="comment"># buggy</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\CodingStyle\Rector\Use_\RemoveUnusedAliasRector'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># many edge cases on known array key contents</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\Php71\Rector\FuncCall\CountOnNullRector'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># fixed in master</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">'Rector\Php70\Rector\MethodCall\ThisCallOnStaticMethodToStaticCallRector'</span></span><br></pre></td></tr></table></figure>

<h2 id="Phan"><a href="#Phan" class="headerlink" title="Phan"></a>Phan</h2><p>Phan is a static analyzer for PHP. Phan prefers to avoid false-positives and attempts to prove incorrectness rather than<br> correctness. <a href="https://github.com/phan/phan/wiki" target="_blank" rel="noopener">https://github.com/phan/phan/wiki</a></p>
<ul>
<li><a href="https://github.com/phan/phan" target="_blank" rel="noopener">phan/phan</a></li>
</ul>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require phan/phan</span><br></pre></td></tr></table></figure>

  </article>
  <div class="random-toc-area">
  <button class="btn-hide-toc btn-hide-toc-show" style="display: none" onclick="TOCToggle()">Show TOC</button>
  <button class="btn-hide-toc btn-hide-toc-hide" onclick="TOCToggle()">Hide TOC</button>
  <div class="random-toc">
    <h2>Table of Content</h2>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Composer"><span class="toc-text">Composer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#editorconfig"><span class="toc-text">.editorconfig</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xdebug"><span class="toc-text">Xdebug</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Configuring-Xdebug-in-PhpStorm"><span class="toc-text">Configuring Xdebug in PhpStorm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-debug-mode"><span class="toc-text">Using debug mode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#More-details-How-to-Debug"><span class="toc-text">More details: How to Debug</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Strict-mode"><span class="toc-text">Strict mode</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TL-DR"><span class="toc-text">TL&amp;DR;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project-specific-Standards"><span class="toc-text">Project specific Standards</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Laravel"><span class="toc-text">Laravel</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Automatic-phpDoc-generation-for-Laravel-Facades-ide-helper-setup"><span class="toc-text">Automatic phpDoc generation for Laravel Facades (ide helper setup)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shortcuts-for-Helpers"><span class="toc-text">Shortcuts for Helpers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cc-bat"><span class="toc-text">cc.bat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fc-bat"><span class="toc-text">fc.bat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rdr-bat"><span class="toc-text">rdr.bat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-bat"><span class="toc-text">re.bat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ps-bat"><span class="toc-text">ps.bat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pu-bat"><span class="toc-text">pu.bat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHPStan-Setup"><span class="toc-text">PHPStan Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-PHPStan-using-Composer"><span class="toc-text">Installation of PHPStan using Composer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-phpstan-neon-file"><span class="toc-text">Example phpstan.neon file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Alternative-PhpStan-script-with-level-set-to-max"><span class="toc-text">Alternative PhpStan script with level set to max</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHPStorm-Setup-of-PHPStan"><span class="toc-text">PHPStorm Setup of PHPStan</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PHPStan-can-be-used-as-an-External-Tool"><span class="toc-text">PHPStan can be used as an External Tool</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PHPStan-can-be-used-as-a-watcher"><span class="toc-text">PHPStan can be used as a watcher</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Easy-Coding-Standard-ECS"><span class="toc-text">Easy Coding Standard (ECS)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-ECS-using-Composer"><span class="toc-text">Installation of ECS using Composer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-ecs-yaml-file"><span class="toc-text">Example ecs.yaml file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PHPStorm-setup-for-Easy-Coding-Standard-ECS"><span class="toc-text">PHPStorm setup for Easy Coding Standard (ECS)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-CodeSniffer"><span class="toc-text">PHP CodeSniffer</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-PHP-CodeSniffer-using-Composer"><span class="toc-text">Installation of PHP CodeSniffer using Composer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-phpcs-xml-dist"><span class="toc-text">Example phpcs.xml.dist</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHPUnit"><span class="toc-text">PHPUnit</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-PHPUnit-using-Composer"><span class="toc-text">Installation of PHPUnit using Composer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-phpunit-xml-or-phpunit-xml-dist"><span class="toc-text">Example phpunit.xml or phpunit.xml.dist</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP-Mess-Detector"><span class="toc-text">PHP Mess Detector</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-PHP-Mess-Detector"><span class="toc-text">Installation of PHP Mess Detector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-phpmd-xml"><span class="toc-text">Example phpmd.xml</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHPStorm-setup-for-PHP-Mess-Detector"><span class="toc-text">PHPStorm setup for PHP Mess Detector</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Configure-a-local-PHP-Mess-Detector-script"><span class="toc-text">Configure a local PHP Mess Detector script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Configure-a-PHP-Mess-Detector-script-associated-with-a-PHP-interpreter"><span class="toc-text">Configure a PHP Mess Detector script associated with a PHP interpreter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#psalm"><span class="toc-text">psalm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-psalm"><span class="toc-text">Install psalm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-psalm-xml"><span class="toc-text">Example psalm.xml</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rector"><span class="toc-text">Rector</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation-of-Rector-using-Composer"><span class="toc-text">Installation of Rector using Composer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-rector-yaml"><span class="toc-text">Example rector.yaml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Demo"><span class="toc-text">Demo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Example-rector-ci-yaml"><span class="toc-text">Example rector-ci.yaml</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Phan"><span class="toc-text">Phan</span></a></li></ol>
  </div>
</div>

  
<nav id="pagination">
  
    <a href="/2020/06/01/List-of-git-Learning-Resources/" class="prev">&larr; Prev post List of Git and GitHub Learning Resources</a>
  

  

  
    <a href="/2020/05/30/Creating-my-GitHub-io-website-using-Hexo/" class="next">Next post Creating my GitHub.io website using Hexo &rarr;</a>
  
</nav>

  <!-- JiaThis Button BEGIN -->

<!-- JiaThis Button END -->


      
      
    </div>
  </div>

  <div id="bottom-outer">
    <div id="bottom-inner">
      Site by Pen y Fan using
      <a href="http://hexo.io" target="_blank" rel="noopener">Hexo</a> & <a href="https://github.com/stiekel/hexo-theme-random" target="_blank" rel="noopener">Random</a>
      <br>
      
    </div>
  </div>
</div>

</div>


<div id="user-card">
  <div class="center-field">
    <img class="avatar" src="https://avatars3.githubusercontent.com/u/40126936?s=400&amp;u=957f8c1cbfeeb61a853b9e28eb2968352a77cc79&amp;v=4">
    <p id="description">Posts about my coding experiences, primarily for my learning path with PHP, good clean professional code.</p>
    <ul class="social-icon">
  
  
    <li>
      <a href="https://twitter.com/MikeAPritch" target="_blank" rel="noopener">
        
          <i class="icon iconfont twitter">&#xe600;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://www.linkedin.com/in/michael-pritchard-340b4520/" target="_blank" rel="noopener">
        
          <i class="icon iconfont linkedin">&#xe601;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://www.reddit.com/user/Pen-y-Fan" target="_blank" rel="noopener">
        
          R
        
      </a>
    </li>
  
    <li>
      <a href="https://github.com/pen-y-fan" target="_blank" rel="noopener">
        
          <i class="icon iconfont github">&#xe606;</i>
        
      </a>
    </li>
  
</ul>
  </div>
</div>


<div id="btn-view">Hide</div>

<script>
// is trigger analytics / tongji script
var isIgnoreHost = false;

if(window && window.location && window.location.host) {
  isIgnoreHost = ["localhost","127.0.0.1"].some(function(address){
    return 0 === window.location.host.indexOf(address);
  });
}

var isTriggerAnalytics = !( true && isIgnoreHost );

</script>




  
  
    <script src="/js/jquery-3.5.1.min.js"></script>
  
    <script src="/js/vegas.min.js"></script>
  
    <script src="/js/random.js"></script>
  
    <script src="/js/highlight.pack.js"></script>
  
    <script src="/js/jquery.mousewheel.pack.js"></script>
  
    <script src="/js/jquery.fancybox.pack.js"></script>
  
    <script src="/js/jquery.fancybox-thumbs.js"></script>
  
    <script src="/js/plyr.js"></script>
  

<script>

  // fancybox
  var backgroundImages = [];
  
  $('#post').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox') || $(this).parent().hasClass('fancybox-thumb')) return;
      var alt = this.alt || this.title;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'post' + i);
    });
  });
  $(".fancybox").fancybox();

var vegasConfig = {"preload­Image":true,"transition":["flash"],"timer":true,"delay":30000,"shuffle":true,"count":12};
var unsplashConfig = {"gravity":"center"};
// is show background images
var turnoffBackgroundImage = false;




var backgroundColor = "34495E";

$(".fancybox-thumb").fancybox({
  prevEffect: 'none',
  nextEffect: 'none',
  helpers: {
    title: {
      type: 'outside'
    },
    thumbs: {
      width: 50,
      height: 50
    }
  }
});

// show video with plyr
$(".video-container iframe").each(function(i){
  var url = $(this).attr('src');
  var id = url.split('/').pop();
  var plyrContainer = document.createElement('div');
  plyrContainer.className = 'plyr';
  var plyrElement = document.createElement('div');
  plyrElement.dataset.videoId = id;
  switch(true) {
    case url.search('youtube.com') >= 0:
      plyrElement.dataset.type = 'youtube';
      break;
    case url.search('vimeo.com') >= 0:
      plyrElement.dataset.type = 'vimeo';
      break;
    default:
      return;
  };
  plyrContainer.appendChild(plyrElement);
  $(this).parent().html(plyrContainer);
});
plyr.setup('.plyr', {iconUrl: '/css/sprite.svg'});
</script>
</body>
</html>

