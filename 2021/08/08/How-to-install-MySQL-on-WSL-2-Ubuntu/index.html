






<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="author" content="Pen y Fan">
  
  
  <meta name="keywords" content="PHP, Learning, resource, HTML, CSS, Git, Github">
  
  
  
    <meta name="description" content="Photo by Tobias Fischer on Unsplash
How to install and configure MySQL 8.0 on WSL 2 (Ubuntu), this guide assumes WSL 2 is already installed with Ubuntu.
I normally use Laragon for my local developm...">
  
  <title>How to install MySQL on WSL 2 (Ubuntu) [ Pen y Fan ]</title>
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/random.css">
<link rel="stylesheet" href="/css/vegas.min.css">
<link rel="stylesheet" href="/css/highlight-railscasts.css">
<link rel="stylesheet" href="/css/jquery.fancybox.css">
<link rel="stylesheet" href="/css/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/jquery.fancybox-thumbs.css">
<link rel="stylesheet" href="/css/plyr.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
<div class="side-navigate hide-area">
  
    <div class="item prev">
      <a href="/2021/09/14/How-to-send-Emails-using-PHPMailer-from-Windows/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        How to send Emails using PHPMailer from Windows
      </div>
    </div>
  
  
    <div class="item next">
      <a href="/2021/08/03/How-to-Set-up-VS-Code-to-use-PHP-with-Xdebug-3-on-Windows/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        How to Set up VS Code to use PHP with Xdebug 3 on Windows
      </div>
    </div>
  
</div>
<div id="outer-container" class="hide-area">
<div id="container">
  <div id="menu-outer" class="slide-down">
    <div id="menu-inner">
      <div id="brand">
        
        <a onClick="openUserCard()">
          <img id="avatar" src="https://avatars3.githubusercontent.com/u/40126936?s=400&amp;u=957f8c1cbfeeb61a853b9e28eb2968352a77cc79&amp;v=4" alt="Pen y Fan"/>
          <div id="homelink">Pen y Fan</div>
        </a>
      </div>
      <div id="menu-list">
        <ul>
        
        
          
            <li>
          
            <a href="/index.html">Home</a>
            
          </li>
        
          
            <li>
          
            <a href="/archives">Posts</a>
            
          </li>
        
          
            <li>
          
            <a href="/tags">Tags</a>
            
          </li>
        
          
            <li>
          
            <a href="/categories">Categories</a>
            
          </li>
        
          
            <li>
          
            <a href="/about">About</a>
            
          </li>
        
          
            <li>
          
            <a href="https://github.com/pen-y-fan" target="_blank" rel="noopener">Github</a>
            
          </li>
        
        </ul>
      </div>
      <div id="show-menu">
        <button>Menu</button>
      </div>
    </div>
  </div>

  <div id="content-outer">
    <div id="content-inner">
      
      
  

  <article id="post">
    <h1>How to install MySQL on WSL 2 (Ubuntu)</h1>
    <p class="page-title-sub">
      <span id = "post-title-date">Created at 2021-08-08</span>
      
        <span id = "post-title-updated">Updated at 2021-08-08</span>
      
      
      <span id = "post-title-categories">Category
      
      
        
        
        <a href="/categories/wsl2/">wsl2</a>
      
      </span>
      
      
      <span id = "post-title-tags">
      Tag
      
      
        
        
        <a href="/tags/Windows/">Windows</a>
      
        
          /
        
        
        <a href="/tags/wsl2/">wsl2</a>
      
        
          /
        
        
        <a href="/tags/MySQL/">MySQL</a>
      
        
          /
        
        
        <a href="/tags/resource/">resource</a>
      
      </span>
      
    </p>
    
    <p><img src="/2021/08/08/How-to-install-MySQL-on-WSL-2-Ubuntu/tobias-fischer-PkbZahEG2Ng-unsplash.jpg" alt="person sitting on couch inside building" title="Person sitting on couch inside building"><br>Photo by <a href="https://unsplash.com/@tofi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Tobias Fischer</a> on <a href="https://unsplash.com/s/photos/database?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Unsplash</a></p>
<p>How to install and configure MySQL 8.0 on WSL 2 (Ubuntu), this guide assumes <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank" rel="noopener">WSL 2 is already installed with Ubuntu</a>.</p>
<p>I normally use <a href="https://laragon.org/" target="_blank" rel="noopener">Laragon</a> for my local development, for most sites this works well.However, for development of Silverstripe CMS projects I regularly have problems exporting my MySQL local MySQL database from Windows and importing to Linux MySQL. This is due to Silverstripe using Pascal case table names. Normally the Silverstripe CMS, on the Linux server will rename the lower case table names generated on Windows MySQL, however the Fluent plugin does not support this feature. I therefore have to manually rename the lower case table names for Fluent to Pascal case. By using MySQL on WSL 2 I get around this problem. I still get the benefit of Laragon for Apache, PHP, Node, HeidiSQL etc.</p>
<h2 id="Update-WSL-2-Ubuntu"><a href="#Update-WSL-2-Ubuntu" class="headerlink" title="Update WSL 2 Ubuntu"></a>Update WSL 2 Ubuntu</h2><ul>
<li>Source: <a href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-database" target="_blank" rel="noopener">Get started with databases on Windows Subsystem for Linux</a></li>
</ul>
<p>Open your WSL terminal (ie. Ubuntu).</p>
<p>Fetch the latest updates and upgrade</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br></pre></td></tr></table></figure>

<p>Enter the password you set when you installed Ubuntu WSL.</p>
<p>Wait for the packages to install, there will be a lot of information scrolling up the screen!</p>
<h2 id="Install-MySQL-server"><a href="#Install-MySQL-server" class="headerlink" title="Install MySQL server"></a>Install MySQL server</h2><p>Once the packages have updated, install MySQL server:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server</span><br></pre></td></tr></table></figure>

<p>Wait for the server to install, again there will be a lot of information scrolling up the screen!</p>
<h2 id="Confirm-installation"><a href="#Confirm-installation" class="headerlink" title="Confirm installation"></a>Confirm installation</h2><p>Installation can be confirmed by checking the version number:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql --version</span><br></pre></td></tr></table></figure>

<p>You should see output like:</p>
<blockquote>
<p>mysql  Ver 8.0.26-0ubuntu0.20.04.2 for Linux on x86_64 ((Ubuntu))</p>
</blockquote>
<h2 id="Secure-the-MySQL-server"><a href="#Secure-the-MySQL-server" class="headerlink" title="Secure the MySQL server"></a>Secure the MySQL server</h2><p>You may also want to run the included security script. This changes some less secure default options for things like remote root logins and sample users. </p>
<p>First start the MySQL server:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/mysql start</span><br></pre></td></tr></table></figure>

<p>Then run the security script:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Securing the MySQL server deployment.</p>
<p>Connecting to MySQL using a blank password.</p>
<p>VALIDATE PASSWORD COMPONENT can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD component?</p>
<p>Press y|Y for Yes, any other key for No: <strong>n</strong></p>
<p>Please set the password for root here.</p>
<p>New password: <strong>root</strong></p>
<p>Re-enter new password:  <strong>root</strong></p>
<p>By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment.</p>
<p>Remove anonymous users? (Press y|Y for Yes, any other key for No) : <strong>y</strong></p>
<p>Success.</p>
<p>Note: Normally, root should only be allowed to connect from<br>‚Äòlocalhost‚Äô. This ensures that someone cannot guess at the root password from the network.</p>
<p>Disallow root login remotely? (Press y|Y for Yes, any other key for No) : <strong>n</strong></p>
<p>‚Ä¶ skipping.</p>
<p>By default, MySQL comes with a database named ‚Äòtest‚Äô that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment.</p>
<p>Remove test database and access to it? (Press y|Y for Yes, any other key for No) : <strong>n</strong></p>
<p>‚Ä¶ skipping.</p>
<p>Reloading the privilege tables will ensure that all changes made so far will take effect immediately.</p>
<p>Reload privilege tables now? (Press y|Y for Yes, any other key for No) : <strong>y</strong></p>
<p>Success.</p>
<p>All done!</p>
</blockquote>
<p><strong>Note:</strong> The above is Ok for local development, for a production the server the root user should be secured with a strong password and no external access allowed.</p>
<h2 id="Verify-MySQL-is-running"><a href="#Verify-MySQL-is-running" class="headerlink" title="Verify MySQL is running"></a>Verify MySQL is running</h2><p>To open the MySQL prompt, enter:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure>

<p>To view the available databases, in the MySQL prompt, enter:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">DATABASES</span>;</span><br></pre></td></tr></table></figure>

<p>You should see output like:</p>
<blockquote>
<table>
<thead>
<tr>
<th align="left">Database</th>
</tr>
</thead>
<tbody><tr>
<td align="left">information_schema</td>
</tr>
<tr>
<td align="left">mysql</td>
</tr>
<tr>
<td align="left">performance_schema</td>
</tr>
<tr>
<td align="left">sys</td>
</tr>
</tbody></table>
<p>4 rows in set (0.00 sec)</p>
</blockquote>
<h2 id="Allow-remote-access"><a href="#Allow-remote-access" class="headerlink" title="Allow remote access"></a>Allow remote access</h2><p>Allow the root user to assess the database using basic username and password authentication (no certificate required).</p>
<ul>
<li>Source <a href="https://stackoverflow.com/questions/58905555/cannot-connect-to-mysql-database-running-on-wsl2-from-windows-desktop-applicat" target="_blank" rel="noopener">SO - Cannot connect to MySQL database (running on WSL2) from Windows Desktop Application ‚ÄúMySQL Workbench‚Äù</a></li>
</ul>
<p>From the MySQL prompt run:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">'root'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">'root'</span>;</span><br></pre></td></tr></table></figure>

<p>Exit out of the MySQL prompt</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>

<h2 id="Configure-HeidiSQL"><a href="#Configure-HeidiSQL" class="headerlink" title="Configure HeidiSQL"></a>Configure HeidiSQL</h2><p>HeidiSQL can now be configured to connect to MySQL 8.0 in WSL</p>
<ul>
<li>Click <strong>New</strong> and give the connection a new name, e.g. <strong>MySQL-WSL2</strong></li>
<li>Library <strong>libmysql.dll</strong></li>
<li>Hostname / IP: <strong>localhost</strong></li>
<li>User: <strong>root</strong></li>
<li>Password: <strong>root</strong></li>
</ul>
<p><img src="/2021/08/08/How-to-install-MySQL-on-WSL-2-Ubuntu/heidi-sql-setup-for-wsl2.png" alt="HeidiSQL setup for wsl2" title="HeidiSQL setup for wsl2"></p>
<h2 id="Change-the-default-port"><a href="#Change-the-default-port" class="headerlink" title="Change the default port"></a>Change the default port</h2><p>MySQL running in Windows (installed by Laragon) and MySQL WSL Ubuntu can not run at the same time using the same port (default 3306), one will need to be changed to avoid conflicts. </p>
<ul>
<li>source <a href="https://askubuntu.com/questions/1120540/how-to-change-mysql8-0-default-port" target="_blank" rel="noopener">AskUbuntu - How to change mysql8.0 default port</a></li>
</ul>
<p>Open your WSL terminal (ie. Ubuntu).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/mysql/my.cnf</span><br></pre></td></tr></table></figure>

<p>Add these lines to use post 33061:</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">33061</span></span><br></pre></td></tr></table></figure>

<p>Save (write) the file and exit nano (CTRL+W enter, CTRL+X) </p>
<p>Restart MySQL to load the new config:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure>

<p>Remember to change the port in HeidiSQL and any .env files.</p>
<h2 id="Start-MySQL-automatically-when-WSL-starts"><a href="#Start-MySQL-automatically-when-WSL-starts" class="headerlink" title="Start MySQL automatically when WSL starts"></a>Start MySQL automatically when WSL starts</h2><p>Each time WSL is shutdown MySQL will also stop, when WSL is started MySQL does not automatically start, although it could be configured to do so!</p>
<ul>
<li>source <a href="https://askubuntu.com/questions/416309/start-mysql-on-startup" target="_blank" rel="noopener">AskUbuntu - Start MySQL on Startup</a></li>
</ul>
<p>Open your WSL terminal (ie. Ubuntu).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-rc.d mysql defaults</span><br></pre></td></tr></table></figure>

<p>Now every time WSL is started, MySQL will also start.</p>
<h2 id="Manually-start-MySQL"><a href="#Manually-start-MySQL" class="headerlink" title="Manually start MySQL"></a>Manually start MySQL</h2><p>If MySQL is not needed everytime WSL is started, it can be manually started</p>
<p>Open your WSL terminal (ie. Ubuntu).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql start</span><br></pre></td></tr></table></figure>

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="Typical-errors-and-possible-reasons"><a href="#Typical-errors-and-possible-reasons" class="headerlink" title="Typical errors and possible reasons"></a>Typical errors and possible reasons</h3><p>This is the error when MySQL is not running:</p>
<p><img src="/2021/08/08/How-to-install-MySQL-on-WSL-2-Ubuntu/cant-connect.png" alt="Can&#39;t connect to MySQL server" title="Can&#39;t connect to MySQL server"></p>
<p>When you try to connect without using a password (note: using password: <strong>NO</strong>)</p>
<p><img src="/2021/08/08/How-to-install-MySQL-on-WSL-2-Ubuntu/access-denied-using-password-no.png" alt="Access denied using password NO" title="Access denied using password NO"></p>
<p>When you try to connect using the wrong password (note: using password: <strong>YES</strong>):</p>
<p><img src="/2021/08/08/How-to-install-MySQL-on-WSL-2-Ubuntu/access-denied-using-password-yes.png" alt="Access denied using password YES" title="Access denied using password YES"></p>
<h3 id="Basic-troubleshooting"><a href="#Basic-troubleshooting" class="headerlink" title="Basic troubleshooting"></a>Basic troubleshooting</h3><p>Basic troubleshooting steps can be performed</p>
<ul>
<li><p>make sure WSL is started</p>
</li>
<li><p>check the MySQL server is running</p>
</li>
<li><p>source and more information <a href="https://upcloud.com/community/tutorials/fix-common-problems-mysql-databases/" target="_blank" rel="noopener">How to fix common problems with MySQL databases</a></p>
</li>
</ul>
<h3 id="Check-the-server-is-running"><a href="#Check-the-server-is-running" class="headerlink" title="Check the server is running"></a>Check the server is running</h3><p>Check that the service is running If your website cannot connect to your database, it is possible the service is simply not listening. Check your MySQL state, on Ubuntu and Debian systems this can be done with the following command.</p>
<p>Open your WSL terminal (ie. Ubuntu).</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql status</span><br></pre></td></tr></table></figure>

<p>When running the stats will be displayed:</p>
<blockquote>
<ul>
<li>/usr/bin/mysqladmin  Ver 8.0.26-0ubuntu0.20.04.2 for Linux on x86_64 ((Ubuntu))<br>Copyright (c) 2000, 2021, Oracle and/or its affiliates.</li>
</ul>
<p>Oracle is a registered trademark of Oracle Corporation and/or its<br>affiliates. Other names may be trademarks of their respective<br>owners.</p>
<p>Server version          8.0.26-0ubuntu0.20.04.2<br>Protocol version        10<br>Connection              Localhost via UNIX socket<br>UNIX socket             /var/run/mysqld/mysqld.sock<br>Uptime:                 2 hours 12 min 21 sec</p>
<p>Threads: 2  Questions: 743  Slow queries: 0  Opens: 598  Flush tables: 3  Open tables: 151<br>Queries per second avg: 0.093</p>
</blockquote>
<p>If MySQL is not running it will simply show:</p>
<blockquote>
<ul>
<li>MySQL is stopped.</li>
</ul>
</blockquote>
<p>If your service status says something other than ‚Äòrunning‚Äô, try to restart the process using the same service command as before but with ‚Äòrestart‚Äô instead of ‚Äòstatus‚Äô.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure>


<blockquote>
<ul>
<li>Stopping MySQL database server mysqld                                                                         [ OK ]</li>
<li>Starting MySQL database server mysqld<br>su: warning: cannot change directory to /nonexistent: No such file or directory                                                                                                                 [ OK ]</li>
</ul>
</blockquote>
<p>To fix the error with <strong>/nonexistent</strong> directory:</p>
<ul>
<li>Source <a href="https://serverfault.com/questions/755763/mysql-nonexistent-home-vs-no-directory-logging-in-with-home/942422" target="_blank" rel="noopener">serverfault.com - MySQL /nonexistent home vs ‚ÄúNo directory, logging in with HOME=/‚Äù</a></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysql stop</span><br><span class="line">sudo usermod -d /var/lib/mysql/ mysql</span><br><span class="line">sudo service mysql start</span><br></pre></td></tr></table></figure>

<h3 id="Check-the-MySQL-server-for-errors"><a href="#Check-the-MySQL-server-for-errors" class="headerlink" title="Check the MySQL server for errors"></a>Check the MySQL server for errors</h3><p>To check the error log:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grep -i error /var/<span class="built_in">log</span>/mysql/error.log</span><br></pre></td></tr></table></figure>

<p>Example output:</p>
<blockquote>
<p>2021-08-08T16:45:10.239063Z 0 [ERROR] [MY-010257] [Server] Do you already have another mysqld server running on port: 33060 ?</p>
</blockquote>
<p>This error happened when I tried to set port=33060, the MySQL server failed to restart, which I way I used 33061 üòâ</p>
<h3 id="Check-the-port"><a href="#Check-the-port" class="headerlink" title="Check the port"></a>Check the port</h3><ul>
<li>source: <a href="https://serverfault.com/questions/116100/how-to-check-what-port-mysql-is-running-on" target="_blank" rel="noopener">ServerFault - How to check what port mysql is running on</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<p>Enter the root password set earlier (e.g. <strong>root</strong>)</p>
<p>From the <code>mysql&gt;</code> prompt:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> <span class="keyword">VARIABLES</span> <span class="keyword">LIKE</span> <span class="string">'PORT'</span>;</span><br></pre></td></tr></table></figure>

<p>The output will show the configured port, e.g.:</p>
<blockquote>
<table>
<thead>
<tr>
<th align="left">Database</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody><tr>
<td align="left">port</td>
<td align="left">33061</td>
</tr>
</tbody></table>
<p>1 row in set (0.00 sec)</p>
</blockquote>
<h2 id="Stop-MySQL-and-WSL"><a href="#Stop-MySQL-and-WSL" class="headerlink" title="Stop MySQL and WSL"></a>Stop MySQL and WSL</h2><p>To close WSL</p>
<p>If you are in the WSL terminal (i.e. Ubuntu).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>

<p>Open PowerShell and run:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure>

  </article>
  <div class="random-toc-area">
  <button class="btn-hide-toc btn-hide-toc-show" style="display: none" onclick="TOCToggle()">Show TOC</button>
  <button class="btn-hide-toc btn-hide-toc-hide" onclick="TOCToggle()">Hide TOC</button>
  <div class="random-toc">
    <h2>Table of Content</h2>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Update-WSL-2-Ubuntu"><span class="toc-text">Update WSL 2 Ubuntu</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-MySQL-server"><span class="toc-text">Install MySQL server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Confirm-installation"><span class="toc-text">Confirm installation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Secure-the-MySQL-server"><span class="toc-text">Secure the MySQL server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Verify-MySQL-is-running"><span class="toc-text">Verify MySQL is running</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Allow-remote-access"><span class="toc-text">Allow remote access</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configure-HeidiSQL"><span class="toc-text">Configure HeidiSQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Change-the-default-port"><span class="toc-text">Change the default port</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Start-MySQL-automatically-when-WSL-starts"><span class="toc-text">Start MySQL automatically when WSL starts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manually-start-MySQL"><span class="toc-text">Manually start MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Troubleshooting"><span class="toc-text">Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Typical-errors-and-possible-reasons"><span class="toc-text">Typical errors and possible reasons</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-troubleshooting"><span class="toc-text">Basic troubleshooting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Check-the-server-is-running"><span class="toc-text">Check the server is running</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Check-the-MySQL-server-for-errors"><span class="toc-text">Check the MySQL server for errors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Check-the-port"><span class="toc-text">Check the port</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stop-MySQL-and-WSL"><span class="toc-text">Stop MySQL and WSL</span></a></li></ol>
  </div>
</div>

  
<nav id="pagination">
  
    <a href="/2021/09/14/How-to-send-Emails-using-PHPMailer-from-Windows/" class="prev">&larr; Prev post How to send Emails using PHPMailer from Windows</a>
  

  

  
    <a href="/2021/08/03/How-to-Set-up-VS-Code-to-use-PHP-with-Xdebug-3-on-Windows/" class="next">Next post How to Set up VS Code to use PHP with Xdebug 3 on Windows &rarr;</a>
  
</nav>

  <!-- JiaThis Button BEGIN -->

<!-- JiaThis Button END -->


      
      
    </div>
  </div>

  <div id="bottom-outer">
    <div id="bottom-inner">
      Site by Pen y Fan using
      <a href="http://hexo.io" target="_blank" rel="noopener">Hexo</a> & <a href="https://github.com/stiekel/hexo-theme-random" target="_blank" rel="noopener">Random</a>
      <br>
      
    </div>
  </div>
</div>

</div>


<div id="user-card">
  <div class="center-field">
    <img class="avatar" src="https://avatars3.githubusercontent.com/u/40126936?s=400&amp;u=957f8c1cbfeeb61a853b9e28eb2968352a77cc79&amp;v=4" alt="Pen y Fan">
    <p id="description">Posts about my coding experiences, primarily for my learning path with PHP, good clean professional code.</p>
    <ul class="social-icon">
  
  
    <li>
      <a href="https://twitter.com/MikeAPritch" target="_blank" rel="noopener">
        
          <i class="icon iconfont twitter">&#xe600;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://www.linkedin.com/in/michael-pritchard-340b4520/" target="_blank" rel="noopener">
        
          <i class="icon iconfont linkedin">&#xe601;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://www.reddit.com/user/Pen-y-Fan" target="_blank" rel="noopener">
        
          R
        
      </a>
    </li>
  
    <li>
      <a href="https://github.com/pen-y-fan" target="_blank" rel="noopener">
        
          <i class="icon iconfont github">&#xe606;</i>
        
      </a>
    </li>
  
</ul>
  </div>
</div>


<div id="btn-view">Hide</div>

<script>
// is trigger analytics / tongji script
var isIgnoreHost = false;

if(window && window.location && window.location.host) {
  isIgnoreHost = ["localhost","127.0.0.1"].some(function(address){
    return 0 === window.location.host.indexOf(address);
  });
}

var isTriggerAnalytics = !( true && isIgnoreHost );

</script>




  
  
    <script src="/js/jquery-3.5.1.min.js"></script>
  
    <script src="/js/vegas.min.js"></script>
  
    <script src="/js/random.js"></script>
  
    <script src="/js/highlight.pack.js"></script>
  
    <script src="/js/jquery.mousewheel.pack.js"></script>
  
    <script src="/js/jquery.fancybox.pack.js"></script>
  
    <script src="/js/jquery.fancybox-thumbs.js"></script>
  
    <script src="/js/plyr.js"></script>
  

<script>

  // fancybox
  var backgroundImages = [];
  
  $('#post').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox') || $(this).parent().hasClass('fancybox-thumb')) return;
      var alt = this.alt || this.title;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'post' + i);
    });
  });
  $(".fancybox").fancybox();

var vegasConfig = {"preload¬≠Image":true,"transition":["flash"],"timer":true,"delay":60000,"shuffle":true,"count":12};
var unsplashConfig = {"gravity":"center"};
// is show background images
var turnoffBackgroundImage = false;




var backgroundColor = "34495E";

$(".fancybox-thumb").fancybox({
  prevEffect: 'none',
  nextEffect: 'none',
  helpers: {
    title: {
      type: 'outside'
    },
    thumbs: {
      width: 50,
      height: 50
    }
  }
});

// show video with plyr
$(".video-container iframe").each(function(i){
  var url = $(this).attr('src');
  var id = url.split('/').pop();
  var plyrContainer = document.createElement('div');
  plyrContainer.className = 'plyr';
  var plyrElement = document.createElement('div');
  plyrElement.dataset.videoId = id;
  switch(true) {
    case url.search('youtube.com') >= 0:
      plyrElement.dataset.type = 'youtube';
      break;
    case url.search('vimeo.com') >= 0:
      plyrElement.dataset.type = 'vimeo';
      break;
    default:
      return;
  };
  plyrContainer.appendChild(plyrElement);
  $(this).parent().html(plyrContainer);
});
plyr.setup('.plyr', {iconUrl: '/css/sprite.svg'});
</script>
</body>
</html>

